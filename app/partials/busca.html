<!-- Pagina de busca -->
<div class="bg-one">
	<div class="container well text-justify" style="margin-top: 15px; width: 99%;">
		<div class="row">
			<div class="col-md-8">
				<div class="panel panel-default">
					<div class="panel-heading clearfix">
						<div class="row"> <!-- TODO código duplicado no arquivo home.html. Verificar como resolver duplicacao. -->
							<div class="col-md-3">
								<input type="text" data-ng-model="tipoServico" typeahead="tipo.nome for tipo in tiposServicos | filter:$viewValue | limitTo:8" class="form-control input-sm" placeholder="Serviço" required>
							</div>
							<div class="col-md-5">
								<input id="endereco" type="text" class="form-control input-sm"
									placeholder="{{labels.endereco}}" data-ng-model="endereco"
									googleplace>
							</div>
							<div class="col-md-2">
								<select id="raio" class="form-control input-sm" data-ng-model="raio">
									<option value="" disabled selected>Distância máx.</option>
									<option value="1">1KM</option>
									<option value="2">2KM</option>
									<option value="5">5KM</option>
									<option value="10">10KM</option>
									<option value="50">50KM</option>
								</select>
							</div>
							<div class="col-md-2">
								<button class='btn btn-success form-control input-sm'
									data-ng-click="getPesquisadores()">
									<span class="glyphicon glyphicon-search"></span>
									{{labels.buscar}}
								</button>
							</div>
						</div>
					</div>
					<div class="panel-body" style="padding: 0;">
						<div id="map_canvas" ui-map="sosMap" ui-options="mapOptions"></div>
					</div>
				</div>
			</div>
			<div class="col-md-4">
				<div class="panel panel-default">
					<div class="panel-heading clearfix">
						<span class="panel-title pull-left" style="paddidata-ng-top: 7.5px;"><span
							class="badge">{{prestadores.length}}</span>
							{{labels.prestadores_encontrados}}</span>
						<!-- Split button -->
						<div class="btn-group pull-right" dropdown>
							<button type="button" class="btn btn-info dropdown-toggle">
								<span class="glyphicon glyphicon-sm glyphicon-cog"></span>
							</button>
							<ul class="dropdown-menu" role="menu">
								<li role="presentation" class="dropdown-header"><span
									class="glyphicon glyphicon-sort small" /></li>
								<li><a href data-ng-click="orderBy('avaliacao')" class="small">Avaliação
										<span class="glyphicon glyphicon-sort-by-attributes" />
								</a></li>
								<li><a href data-ng-click="orderBy('-avaliacao')" class="small">Avaliação
										<span class="glyphicon glyphicon-sort-by-attributes-alt" />
								</a></li>
								<li><a href data-ng-click="orderBy('nome')" class="small">Nome
										<span class="glyphicon glyphicon-sort-by-alphabet" />
								</a></li>
								<li><a href data-ng-click="orderBy('-nome')" class="small">Nome
										<span class="glyphicon glyphicon-sort-by-alphabet-alt" />
								</a></li>
								<li role="presentation" class="divider"></li>
								<li><a href="#" class="small">Separated link</a></li>
							</ul>
						</div>
					</div>
					<div class="panel-body">
						<!--Prestadores de servico encontrados-->
						<div class="form-group">
							<div class="right-inner-addon ">
								<span class="glyphicon glyphicon-filter text-muted"></span> 
								<input type="search" data-ng-model="query" class="form-control input-sm" id="filtro"
									placeholder="{{labels.filtrar_resultado}}" />
							</div>
						</div>

						<div class="list-group">
							<a href class="list-group-item"
								data-ng-repeat="prestador in prestadores | filter:query | orderBy:orderProp">
								<h4 class="list-group-item-heading">{{prestador.nome}}</h4> 
								<rating data-ng-model="prestador.avaliacao" max="maxRate" readonly="true"></rating>
								<!-- TODO recuperar avaliacao -->
								<p class="list-group-item-text small">{{prestador.endereco.logradouro}}
									{{prestador.endereco.complemento}},
									{{prestador.endereco.cidade}}, {{prestador.endereco.estado}} -
									{{prestador.endereco.cep}}</p>
								<p class="list-group-item-text small">{{prestador.email}}</p>
								<p class="list-group-item-text small">{{prestador.telefone}}</p>
							</a>
						</div>
						<pagination total-items="bigTotalItems" data-ng-model="bigCurrentPage"
							items-per-page="itemsPerPage" num-pages="numPages"
							class="pagination-sm" style="margin: 0;"></pagination>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>